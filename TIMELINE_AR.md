# โ ุชู ุฑุจุท ุงูุฌุฏูู ุงูุฒููู ููุจูุงุก ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช

## ๐ฏ ูุง ุชู ุฅูุฌุงุฒู

ุชู ุฑุจุท **Construction Timeline** (ุงูุฌุฏูู ุงูุฒููู ููุจูุงุก) ูู ุตูุญุฉ ุชูุงุตูู ุงููุจูู ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจูุฌุงุญ!

---

## ๐ ุงูููู ุงูููุญุฏูุซ

### `/components/BuildingDetails.tsx`

**ุงูุชุบููุฑุงุช:**

#### 1. **ุงูุขู ูุฌูุจ ุงููุฑุงุญู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช** โ
```tsx
// ุฌูุจ ูุฑุงุญู ุงูุฌุฏูู ุงูุฒููู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
const { data: phasesData } = await supabase
  .from('building_timeline_phases')
  .select('*')
  .eq('building_id', buildingId)
  .order('phase_order', { ascending: true });
```

#### 2. **ุงูุขู ูุฌูุจ ูุนุฑุถ ุงูุตูุฑ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช** โ
```tsx
// ุฌูุจ ุตูุฑ ุงููุนุฑุถ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
const { data: imagesData } = await supabase
  .from('building_gallery')
  .select('*')
  .eq('building_id', buildingId)
  .order('display_order', { ascending: true });
```

#### 3. **Fallback ุชููุงุฆู** โ

ุฅุฐุง ูู ุชูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฌุงูุฒุฉ:
- โ ูุณุชุฎุฏู 5 ูุฑุงุญู ุงูุชุฑุงุถูุฉ
- โ ูุณุชุฎุฏู 4 ุตูุฑ ุงูุชุฑุงุถูุฉ
- โ ูุง ุชูุฌุฏ ุฃุฎุทุงุก
- โ ุงูุชุทุจูู ูุนูู ุจุณูุงุณุฉ

---

## ๐จ ุงููุฒุงูุง

### ูุฒุงูุง ุงูุฌุฏูู ุงูุฒููู:
- โ **ูุฑุงุญู ุฏููุงููููุฉ** ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ **ุฏุนู ุงููุบุชูู** (ุนุฑุจู/ุฅูุฌููุฒู)
- โ **ูุคุดุฑุงุช ุงูุญุงูุฉ** (ููุชูู / ุฌุงุฑู / ูุงุฏู)
- โ **ุฃููุงู ูุฑุฆูุฉ** (ุฃุฎุถุฑ / ุฃุญูุฑ / ุฑูุงุฏู)
- โ **ุญุฑูุฉ ูุงุจุถุฉ** ูููุฑุญูุฉ ุงูุญุงููุฉ
- โ **ุฃููููุงุช ุงูุญุงูุฉ** (โ / โฑ๏ธ / ๐)
- โ **ุงูุชูุงุฑูุฎ** ุชุธูุฑ ุฏููุงููููุงู

### ูุฒุงูุง ุงููุนุฑุถ:
- โ **ุตูุฑ ุฏููุงููููุฉ** ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ **ูุนุงููุฉ ูุตุบุฑุฉ**
- โ **ุงูุชูุงูุงุช ุณูุณุฉ**
- โ **ุฃููุงุน ุงูุตูุฑ** (ุฎุงุฑุฌู / ุฏุงุฎูู / ูุฑุงูู)

---

## ๐ ููู ูุนูู

### ุงููุถุน ุงูุญุงูู (ูุจู ุชุดุบูู SQL):

1. ุงูุตูุญุฉ ุชุญูู โ ุชุญุงูู ุฌูุจ ุงูุจูุงูุงุช
2. ูุงุนุฏุฉ ุงูุจูุงูุงุช ุบูุฑ ุฌุงูุฒุฉ โ ูุง ุชูุฌุฏ ุจูุงูุงุช
3. Fallback ูุนูู โ 5 ูุฑุงุญู ุงูุชุฑุงุถูุฉ ุชุธูุฑ
4. ุงููุณุชุฎุฏู ูุฑู โ ูู ุดูุก ูุนูู! โจ
5. ูุง ุฃุฎุทุงุก โ ุชุฌุฑุจุฉ ุณูุณุฉ

### ุจุนุฏ ุชุดุบูู SQL Migration:

1. ุงูุตูุญุฉ ุชุญูู โ ุชุฌูุจ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
2. ูุงุนุฏุฉ ุงูุจูุงูุงุช ุชุฑุฌุน ุจูุงูุงุช โ ูุฌุงุญ! โ
3. ุงูุฌุฏูู ุงูุฒููู ูุนุฑุถ โ ุงููุฑุงุญู ุงููุนููุฉ ูููุจูู
4. ุงููุนุฑุถ ูุนุฑุถ โ ุงูุตูุฑ ุงููุนููุฉ ูููุจูู
5. ุงููุณุชุฎุฏู ูุฑู โ ุจูุงูุงุช ุญููููุฉ ุฏูููุฉ

---

## ๐ ูุชูุนูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงูุฎุทูุฉ 1: ุดุบูู SQL Migration

**โ๏ธ ููู:** ุงุณุชุฎุฏู ุงูููู **ุงูููุตูุญ**!

1. ุงูุชุญ Supabase Dashboard
2. ุงุฐูุจ ุฅูู **SQL Editor**
3. ุงูุชุญ: `/supabase/migrations/buildings_complete_fixed.sql` โ๏ธ
4. ุงูุณุฎ **ูู ุงููุญุชูู**
5. ุงูุตู ู **RUN**
6. ุงูุชุธุฑ "Success โ"

### ุงูุฎุทูุฉ 2: ุชุญูู ูู ุงูุจูุงูุงุช

```sql
-- ุชุญูู ูู ูุฌูุฏ ุงููุฑุงุญู
SELECT 
  b.name as ุงููุจูู,
  COUNT(t.id) as ุนุฏุฏ_ุงููุฑุงุญู
FROM buildings b
LEFT JOIN building_timeline_phases t ON b.id = t.building_id
GROUP BY b.id, b.name;

-- ุชุญูู ูู ูุฌูุฏ ุงูุตูุฑ
SELECT 
  b.name as ุงููุจูู,
  COUNT(g.id) as ุนุฏุฏ_ุงูุตูุฑ
FROM buildings b
LEFT JOIN building_gallery g ON b.id = g.building_id
GROUP BY b.id, b.name;
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- 3 ูุจุงูู ร 5 ูุฑุงุญู = 15 ูุฑุญูุฉ
- 3 ูุจุงูู ร 3 ุตูุฑ = 9 ุตูุฑ

### ุงูุฎุทูุฉ 3: ุงุฎุชุจุฑ ุงูุตูุญุฉ

1. ุงูุชุญ ุตูุญุฉ ุชูุงุตูู ูุจูู
2. ุงูุฒู ุฅูู ูุณู **Construction Timeline**
3. ูุฌุจ ุฃู ุชุฑู ุงููุฑุงุญู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
4. ุงููุนุฑุถ ูุนุฑุถ ุงูุตูุฑ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
5. ุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ ุชุนูู

---

## ๐ ุญุงูุงุช ุงููุฑุงุญู

### ููู `phase_status`:

| ุงูุญุงูุฉ | ุงููุตู | ุงูููู | ุงูุฃููููุฉ |
|--------|-------|-------|----------|
| `completed` | ููุชููุฉ | ุฃุฎุถุฑ | โ |
| `in_progress` | ุฌุงุฑูุฉ | ุฃุญูุฑ | โฑ๏ธ (ูุงุจุถ) |
| `upcoming` | ูุงุฏูุฉ | ุฑูุงุฏู | ๐ |
| `delayed` | ูุชุฃุฎุฑุฉ | ุฃุญูุฑ | โ๏ธ |
| `on_hold` | ูุชูููุฉ | ุจุฑุชูุงูู | โธ๏ธ |

---

## โ๏ธ ุฅุฏุงุฑุฉ ุงูุจูุงูุงุช

### ุฅุถุงูุฉ ูุฑุญูุฉ ุฌุฏูุฏุฉ

```sql
INSERT INTO building_timeline_phases (
  building_id,
  phase_name_en,
  phase_name_ar,
  phase_description_en,
  phase_description_ar,
  phase_order,
  start_date,
  end_date,
  completion_percentage,
  phase_status,
  is_current_phase
) VALUES (
  'ูุนุฑู-ุงููุจูู',
  'MEP Installation',
  'ุงูุชุฑููุจุงุช ุงููููุงููููุฉ',
  'Mechanical, electrical and plumbing systems',
  'ุงูุฃูุธูุฉ ุงููููุงููููุฉ ูุงูููุฑุจุงุฆูุฉ ูุงูุณุจุงูุฉ',
  4,
  'Q1 2025',
  'Q2 2025',
  60,
  'in_progress',
  true
);
```

### ุชุญุฏูุซ ูุณุจุฉ ุงูุฅูุฌุงุฒ

```sql
UPDATE building_timeline_phases
SET 
  completion_percentage = 85,
  phase_status = 'in_progress'
WHERE phase_name_ar = 'ุงูุชุฑููุจุงุช ุงููููุงููููุฉ';
```

### ุฅููุงู ูุฑุญูุฉ

```sql
-- ุฅุชูุงู ุงููุฑุญูุฉ ุงูุญุงููุฉ
UPDATE building_timeline_phases
SET 
  completion_percentage = 100,
  phase_status = 'completed',
  is_current_phase = false
WHERE is_current_phase = true;

-- ุชูุนูู ุงููุฑุญูุฉ ุงูุชุงููุฉ
UPDATE building_timeline_phases
SET 
  is_current_phase = true,
  phase_status = 'in_progress'
WHERE phase_order = (
  SELECT MIN(phase_order) 
  FROM building_timeline_phases 
  WHERE phase_status = 'upcoming'
);
```

### ุฅุถุงูุฉ ุตูุฑุฉ ูููุนุฑุถ

```sql
INSERT INTO building_gallery (
  building_id,
  image_url,
  image_title_en,
  image_title_ar,
  display_order,
  image_type,
  is_featured
) VALUES (
  'ูุนุฑู-ุงููุจูู',
  'https://your-image-url.jpg',
  'Construction Progress',
  'ุชูุฏู ุงูุจูุงุก',
  4,
  'construction',
  false
);
```

---

## ๐๏ธ ุงูุฌุฏุงูู ุงููุณุชุฎุฏูุฉ

### 1. `building_timeline_phases` - ูุฑุงุญู ุงูุฌุฏูู ุงูุฒููู

**ุงูุญููู ุงูุฑุฆูุณูุฉ:**
- `building_id` - ูุนุฑู ุงููุจูู
- `phase_name_en` / `phase_name_ar` - ุงุณู ุงููุฑุญูุฉ
- `phase_description_en` / `phase_description_ar` - ุงููุตู
- `phase_order` - ุชุฑุชูุจ ุงูุนุฑุถ
- `start_date` / `end_date` - ุงูุชูุงุฑูุฎ
- `completion_percentage` - ูุณุจุฉ ุงูุฅูุฌุงุฒ (0-100)
- `phase_status` - ุงูุญุงูุฉ
- `is_current_phase` - ุงููุฑุญูุฉ ุงูุญุงููุฉ

### 2. `building_gallery` - ูุนุฑุถ ุงูุตูุฑ

**ุงูุญููู ุงูุฑุฆูุณูุฉ:**
- `building_id` - ูุนุฑู ุงููุจูู
- `image_url` - ุฑุงุจุท ุงูุตูุฑุฉ
- `image_title_en` / `image_title_ar` - ุงูุนููุงู
- `display_order` - ุชุฑุชูุจ ุงูุนุฑุถ
- `image_type` - ุงูููุน (ุฎุงุฑุฌู / ุฏุงุฎูู / ูุฑุงูู)
- `is_featured` - ุตูุฑุฉ ูููุฒุฉ

---

## โ ููุฎุต ุงูุญุงูุฉ

### ุงูููููุงุช ุงูููุญุฏูุซุฉ:
- โ BuildingDetails.tsx โ ูุชุตู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ ูุณู Timeline โ ูุฌูุจ ูู `building_timeline_phases`
- โ ูุณู Gallery โ ูุฌูุจ ูู `building_gallery`

### ุงููุฒุงูุง ุงูุนุงููุฉ:
- โ ุฌูุจ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุน fallback
- โ ุฏุนู ุงููุบุชูู (ุนุฑุจู/ุฅูุฌููุฒู)
- โ ุนุฑุถ ุงููุฑุงุญู ุฏููุงููููุงู
- โ ูุคุดุฑุงุช ุงูุญุงูุฉ ุงููุฑุฆูุฉ
- โ ุญุฑูุฉ ูุงุจุถุฉ ูููุฑุญูุฉ ุงูุญุงููุฉ
- โ ูุนุฑุถ ุงูุตูุฑ carousel
- โ ูุง ุฃุฎุทุงุก ุฅุฐุง ูู ุชูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฌุงูุฒุฉ

---

## ๐ ุญู ุงููุดุงูู

### ุงููุดููุฉ: ุงูุฌุฏูู ุงูุฒููู ูุง ูุธูุฑ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

**ุงูุชุญูู:**
```sql
-- ุชุญูู ูู ูุฌูุฏ ูุฑุงุญู ูููุจูู
SELECT * FROM building_timeline_phases 
WHERE building_id = 'ูุนุฑู-ุงููุจูู';
```

**ุงูุญู:**
- ุฅุฐุง ูู ุชูุฌุฏ ุจูุงูุงุช โ ูุณุชุฎุฏู 5 ูุฑุงุญู ุงูุชุฑุงุถูุฉ
- ุดุบูู SQL migration ูุฅุถุงูุฉ ุจูุงูุงุช ูููุฐุฌูุฉ
- ุฃู ุฃุถู ุงููุฑุงุญู ูุฏููุงู

### ุงููุดููุฉ: ุงููุนุฑุถ ูุง ูุธูุฑ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

**ุงูุชุญูู:**
```sql
-- ุชุญูู ูู ูุฌูุฏ ุตูุฑ ูููุจูู
SELECT * FROM building_gallery 
WHERE building_id = 'ูุนุฑู-ุงููุจูู';
```

**ุงูุญู:**
- ุฅุฐุง ูู ุชูุฌุฏ ุจูุงูุงุช โ ูุณุชุฎุฏู 4 ุตูุฑ ุงูุชุฑุงุถูุฉ
- ุดุบูู SQL migration ูุฅุถุงูุฉ ุจูุงูุงุช ูููุฐุฌูุฉ
- ุฃู ุฃุถู ุงูุตูุฑ ูุฏููุงู

---

## ๐ ูุคุดุฑุงุช ุงููุฌุงุญ

ุณุชุนุฑู ุฃู ูู ุดูุก ูุนูู ุนูุฏูุง:

1. โ ุตูุญุฉ ุงููุจูู ุชุญูู ุจุฏูู ุฃุฎุทุงุก
2. โ ูุณู Construction Timeline ูุธูุฑ ุงููุฑุงุญู
3. โ ุงููุฑุงุญู ุจุฃููุงู ุตุญูุญุฉ (ุฃุฎุถุฑ/ุฃุญูุฑ/ุฑูุงุฏู)
4. โ ุงููุฑุญูุฉ ุงูุญุงููุฉ ุชูุจุถ (pulsing)
5. โ ูุนุฑุถ ุงูุตูุฑ ูุนูู
6. โ ุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ ุชุนุฑุถ ุจุดูู ุตุญูุญ
7. โ badges ุงูุญุงูุฉ ุชุธูุฑ ุงููุต ุงูุตุญูุญ
8. โ ุงูุชูุงุฑูุฎ ุชุธูุฑ ููู ูุฑุญูุฉ

---

## ๐ ุงูุชูุซูู

ุงููููุงุช ุงููุชููุฑุฉ:

- `/TIMELINE_AR.md` - ูุฐุง ุงูููู (ููุฎุต ุจุงูุนุฑุจูุฉ)
- `/TIMELINE_INTEGRATION_COMPLETE.md` - ุชูุซูู ูุงูู ุจุงูุฅูุฌููุฒูุฉ
- `/BUILDINGS_SETUP_AR.md` - ุฏููู ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช
- `/supabase/migrations/BUILDINGS_DATABASE_GUIDE.md` - ุฏููู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุดุงูู
- `/supabase/migrations/buildings_complete_fixed.sql` - ููู SQL Migration

---

## ๐ ุงูุฎุทูุฉ ุงูุชุงููุฉ

**ุดุบูู ุงูู Migration:**
1. ุงูุชุญ Supabase
2. SQL Editor
3. ุงูุณุฎ `/supabase/migrations/buildings_complete_fixed.sql`
4. ุดุบูู RUN
5. ุงุณุชูุชุน ุจุงูุฌุฏูู ุงูุฒููู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช! ๐

---

**ุญุงูุฉ ุงูุชูุงูู:** โ **ููุชูู**  
**ุญุงูุฉ ุงูุชุทุจูู:** โ **ูุนูู** (ูุน ุฃู ุจุฏูู ูุงุนุฏุฉ ุจูุงูุงุช)  
**ูุงุนุฏุฉ ุงูุจูุงูุงุช:** โณ **ุงุฎุชูุงุฑูุฉ** (ุดุบูู migration ุนูุฏูุง ุชููู ุฌุงูุฒุงู)  
**ุงูุชุงุฑูุฎ:** 24 ููุงูุฑ 2026
